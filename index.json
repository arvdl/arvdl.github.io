[{"categories":null,"contents":"   Intro  On the last update, Manjaro got so much packages updated, including the Gnome 40, Pacman 6.0, KDE 5.22.\nI\u0026rsquo;m using gnome with nvidia driver, so when the update hit me, i got an error. When I login to Gnome, there just blank window without anything. But the strange thing is my Night Ligt is activated, so I though there is no problem about the kernel driver nvidia.\nI checked the boot log from the tty session, there is no error related my nvidia driver. So I believe there is an error about my gnome desktop.\nBelow step-by-step I just done to solve my gnome40 blank issue.\n   Backup Previous Gnome Configuration  Turn up your computer and once you got the GDM login, press the button Ctrl + Alt + F2 to access the TTY session, then login with your username and password.\nBackup your gnome configuration using the following command.\n1  mv ~/.config/gnome/user ~/Desktop/user.bak      Add New User  Create new user to generate default gnome configuration and reboot the system.\n1 2 3 4  sudo useradd -m -s /bin/bash newuser sudo passwd newuser sudo reboot   Now you must login to the gnome desktop with the new user, and the default gnome configuration ~/.config/gnome/user will be generated.\n   Copy Configuration from New User to Old User  Once you get the GDM login, access the TTY session again and login with your OLD user and password.\nGrab the root privileges and copy the gnome configuration from the New User home directory to the Old User home directory.\n1 2 3 4  sudo su cp /home/newuser/.config/gnome/user /home/olduser/.config/gnome/user sudo chown olduser:olduser /home/olduser/.config/gnome/user   Now reboot your system sudo reboot.\n   Login with the Old User and Cleanup  Now you can login again to the gnome desktop with old user and everything under your home directory is safe, you just need to setup the gnome desktop again as your flavour.\nNow you can delete the new user that we\u0026rsquo;ve created before.\n1  sudo userdel -r newuser   And everything is back.\nThe gnome40 is amazing with smooth transition etc, its just awesome ðŸ™ˆ.\n","date":"Jul 14","permalink":"https://arvdl.github.io/posts/gnome40-manjaro-blank/","tags":["desktop"],"title":"Gnome40 Manjaro Blank After Upgrade"},{"categories":null,"contents":"","date":"Jul 12","permalink":"https://arvdl.github.io/articles/","tags":null,"title":"Articles"},{"categories":null,"contents":"   Intro  So i got laptop with dual vga card Nvidia and Intel, the I install Manjaro with Gnome desktop on top of it.\nNow, how I can set up Nvidia as default graphic driver instead of Intel on my manjaro system.\n   Install nvidia graphic driver on manjaro  To install nvidia graphic driver on manjaro, run the following command.\n1  sudo mhwd -a pci nonfree 0300   Now reboot the system and check again the installed nvidia driver.\n1  sudo mhwd -li   Make sure you got the video-hybrid-intel-nvidia-prime driver.\n   Check BusID of nvidia graphic card  Before going any further, check BusID of your nvidia graphic.\n1  sudo lspci | grep -E \u0026#34;VGA|3D\u0026#34;   Below is the an example result.\n00:02.0 VGA compatible controller: Intel Corporation XXLake-H GT2 [UHD Graphics XXX] 01:00.0 3D controller: NVIDIA Corporation GPXXM [GeForce GTX 10XX Ti Mobile] (rev a1) The BusID for nvidia graphic card is PCI:1:0:0, and for intel is PCI:2:0:0.\n   Setup Xorg configuration for nvidia  By default the mhwd tool created the nvidia graphic driver configuration /etc/X11/xorg.conf.d/90-mhwd.conf.\nDelete the default mhwd configuration and create another one.\n1 2  sudo rm -f /etc/X11/xorg.conf.d/90-mhwd.conf sudo vim /etc/X11/xorg.conf.d/optimus.conf   Change the BusID options as your own and paste the configuration.\nSection \u0026quot;Module\u0026quot; Load \u0026quot;modesetting\u0026quot; EndSection Section \u0026quot;Device\u0026quot; Identifier \u0026quot;nvidia\u0026quot; Driver \u0026quot;nvidia\u0026quot; BusID \u0026quot;PCI:1:0:0\u0026quot; Option \u0026quot;AllowEmptyInitialConfiguration\u0026quot; EndSection Save.\n   Block nouveau and Enable nvidia-drm.modeset  Backup all default configuration at the /etc/modprobe.d/ directory.\n1 2  sudo mkdir -p ~/backup-conf/ sudo mv /etc/modprobe.d/*.conf ~/backup-conf/   Create new blacklist configuration.\n1  sudo vim /etc/modprobe.d/nvidia.conf   Paste the following configuration to block the nouveau kernel driver.\nblacklist nouveau blacklist nvidiafb blacklist riafb Save.\nNext, enable the nvidia-drm.modeset by creating new configuration.\n1  sudo vim /etc/modprobe.d/nvidia-drm.conf   Paste the following configuration.\noptions nvidia_drm modeset=1 Save.\n   Setup ourput source for GDM (Gnome Display Manager)  Create new configuration file.\n1  sudo vim /usr/local/share/optimus.desktop   Paste the following configuration.\n[Desktop Entry] Type=Application Name=Optimus Exec=sh -c \u0026quot;xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto\u0026quot; NoDisplay=true X-GNOME-Autostart-Phase=DisplayServer Save.\nNow make it auto-start on the login.\n1 2  sudo ln -s /usr/local/share/optimus.desktop /usr/share/gdm/greeter/autostart/optimus.desktop sudo ln -s /usr/local/share/optimus.desktop /etc/xdg/autostart/optimus.desktop   After that reboot the system.\n   Verify the nvidia driver  To verify our setup, run the following command.\n1  glxinfo | grep -i vendor   Optionall, you can use the tool nvtop.\n1 2 3  sudo pamac install nvtop nvtop   Enjoy your system is fully using nvidia graphic card.\n","date":"Aug 02","permalink":"https://arvdl.github.io/posts/nvidia-instead-intel-manjaro-gnome/","tags":null,"title":"Setup Nvidia as Default Graphic Instead of Intel on Manjaro Gnome"},{"categories":null,"contents":"   Intro  MAC address (Media Access Control) is an identifier for our network devices that we use. It\u0026rsquo;s unique identifier, every network devices has different identities.\nMostly, MAC address are available at IEEE 802 networking technology such as Ethernet, Wi-Fi, and Bluetooth. And every devies that we uses such as Laptop, Computer, or even Smartphone has MAC address on top of it.\nFor this guide, i will show you how to automatically change MAC address of your Linux system using systemd-networkd service and using the NetworkManager application.\n   Check MAC address  Before going any further, check the MAC address on the system using the ip command as below.\n1  ip a   And you will be shown the MAC address of your machine as link/ether 12:9a:5b:0d:xx:xx ....\nIf you want to know what a vender of your MAC address you used, visit the site https://macvendors.com/, copy and paste your MAC address on the page, and you will get details vender of your MAC address you\u0026rsquo;re using.\n   Spoof MAC address with systemd-networkd service  The systemd-networkd is a services that manages networking configuration. As networking devices appears, the service will automatically detects and configure your networking devies. Also, it can create virtual network devices.\nThe systemd-networkd is part of systemd, so ensure you\u0026rsquo;re using an operating system with systemd running on top of your OS.\nRun the systemd-networkd services and add it to start automaticall on the system boot using following commands.\n1 2  sudo systemctl start systemd-networkd sudo systemctl enable systemd-networkd   Next, create a new configuration for your devices on the /etc/systemd/network directory. For example below I create the configuration wlan0.link to change my wlan0 interface MAC address.\n1  sudo nano /etc/systemd/network/wlan0.link   Change MACAddress=xx:xx:xx:xx:xx:xx with your real MAC address, copy and paste to your configuration.\n[Match] MACAddress=xx:xx:xx:xx:xx:xx [Link] MACAddressPolicy=random NamePolicy=kernel database onboard slot path Save.\nNOTE:\nInstead of random MAC address on every boot, you can use pre-defined static MAC address by changing the MACAddressPolicy=random to static configuration MACAddress=Static Spoofed MAC.\nNow restart the systemd-networkd services to apply.\n1  sudo systemctl restart systemd-networkd   Check again your MAC address usin gthe ip a command and it has been changed. Otherwise, you can reboot your system.\n   Spoof MAC Address with NetworkManager  The second way to change MAC address is by using the NetworkManager application, mostly available on every Linux Desktop.\nEdit the /etc/NetworkManager/NetworkManager.conf configuration file.\n1  sudo vim /etc/NetworkManager/NetworkManager.conf   Now paste the following configuration to the end of the line.\n[device-mac-randomization] # \u0026quot;yes\u0026quot; is already the default for scanning wifi.scan-rand-mac-address=yes [connection-mac-randomization] # Randomize MAC for every ethernet connection ethernet.cloned-mac-address=random # Generate a random MAC for each WiFi and associate the two permanently. wifi.cloned-mac-address=random Save and close.\nNext, restart the NetworkManager services to apply.\n1  sudo systemctl restart NetworkManager   As a result, you will get random MAC address everytime you make connection to the network, on Wi-Fi and Ethernet.\n   Reference  Archwiki\nGnome NetworkManager\n","date":"Jul 12","permalink":"https://arvdl.github.io/posts/mac-address-linux/","tags":["privacy","tips"],"title":"MAC Address Spoofing on Linux"}]