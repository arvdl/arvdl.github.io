[{"categories":null,"contents":"   Intro  On the last update, Manjaro got so much packages updated, including the Gnome 40, Pacman 6.0, KDE 5.22.\nI\u0026rsquo;m using gnome with nvidia driver, so when the update hit me, i got an error. When I login to Gnome, there just blank window without anything. But the strange thing is my Night Ligt is activated, so I though there is no problem about the kernel driver nvidia.\nI checked the boot log from the tty session, there is no error related my nvidia driver. So I believe there is an error about my gnome desktop.\nBelow step-by-step I just done to solve my gnome40 blank issue.\n   Backup Previous Gnome Configuration  Turn up your computer and once you got the GDM login, press the button Ctrl + Alt + F2 to access the TTY session, then login with your username and password.\nBackup your gnome configuration using the following command.\n1  mv ~/.config/gnome/user ~/Desktop/user.bak      Add New User  Create new user to generate default gnome configuration and reboot the system.\n1 2 3 4  sudo useradd -m -s /bin/bash newuser sudo passwd newuser sudo reboot   Now you must login to the gnome desktop with the new user, and the default gnome configuration ~/.config/gnome/user will be generated.\n   Copy Configuration from New User to Old User  Once you get the GDM login, access the TTY session again and login with your OLD user and password.\nGrab the root privileges and copy the gnome configuration from the New User home directory to the Old User home directory.\n1 2 3 4  sudo su cp /home/newuser/.config/gnome/user /home/olduser/.config/gnome/user sudo chown olduser:olduser /home/olduser/.config/gnome/user   Now reboot your system sudo reboot.\n   Login with the Old User and Cleanup  Now you can login again to the gnome desktop with old user and everything under your home directory is safe, you just need to setup the gnome desktop again as your flavour.\nNow you can delete the new user that we\u0026rsquo;ve created before.\n1  sudo userdel -r newuser   And everything is back.\nThe gnome40 is amazing with smooth transition etc, its just awesome ðŸ™ˆ.\n","date":"Jul 14","permalink":"https://arvdl.github.io/posts/gnome40-manjaro-blank/","tags":["desktop"],"title":"Gnome40 Manjaro Blank After Upgrade"},{"categories":null,"contents":"","date":"Jul 12","permalink":"https://arvdl.github.io/articles/","tags":null,"title":"Articles"},{"categories":null,"contents":"So lets just get started for setting up zsh, tmux, and Alacritty.\n   Alacritty Installation  Alacritty is fast and awesome terminal emulator with multi-platform support. My best choice an alternative for urxvt and terminator. I still considering for setting up st.\nFor archlinux user, install alacritty via pacman.\n1  sudo pacman -S alacritty   Setup the alacritty configuration directory.\n1  mkdir -p ~/.config/alacritty/; cd ~/.config/alacritty/    Alacritty configuration file alacritty.yml  Below is the simple configuration I found on GitHub.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46  ## Configuration for Alacritty, the GPU enhanced terminal emulator.## Created by Aditya Shakya (@adi1090x)## It\u0026#39;s a very basic and simple config file, for full configuration...## See, /usr/share/doc/alacritty/example/alacritty.yml## Import files (Colors, Fonts, Etc)import:- ~/.config/alacritty/colors.yml- ~/.config/alacritty/fonts.yml## Set environment variablesenv:TERM:xterm-256color## Terminal window settingswindow:dimensions:columns:84lines:22padding:x:8y:8decorations:fullstartup_mode:Windoweddynamic_title:true## scrollinghistory:10000multiplier:3## Background opacitybackground_opacity:1.0## Cursorcursor:style:shape:Blockblinking:Onunfocused_hollow:false## Live config reloadlive_config_reload:true  Fonts configuration fonts.yml.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  # Font configurationfont:# Normal (roman) font facenormal:family:\u0026#34;Iosevka\u0026#34;style:Medium# Bold font facebold:family:\u0026#34;Iosevka\u0026#34;style:Bold# Italic font faceitalic:family:\u0026#34;Iosevka\u0026#34;style:Italic# Bold italic font facebold_italic:family:\u0026#34;Iosevka\u0026#34;style:Bold Italic# Point sizesize:13.4# Offset#offset:# x: 0# y: 0# Glyph offset#glyph_offset:# x: 0# y: 0  Color schema configuration color.yml - for more color schema.  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  # Colors (Ayu Dark)colors:# Default colorsprimary:background:\u0026#39;#0A0E14\u0026#39;foreground:\u0026#39;#B3B1AD\u0026#39;# Normal colorsnormal:black:\u0026#39;#01060E\u0026#39;red:\u0026#39;#EA6C73\u0026#39;green:\u0026#39;#91B362\u0026#39;yellow:\u0026#39;#F9AF4F\u0026#39;blue:\u0026#39;#53BDFA\u0026#39;magenta:\u0026#39;#FAE994\u0026#39;cyan:\u0026#39;#90E1C6\u0026#39;white:\u0026#39;#C7C7C7\u0026#39;# Bright colorsbright:black:\u0026#39;#686868\u0026#39;red:\u0026#39;#F07178\u0026#39;green:\u0026#39;#C2D94C\u0026#39;yellow:\u0026#39;#FFB454\u0026#39;blue:\u0026#39;#59C2FF\u0026#39;magenta:\u0026#39;#FFEE99\u0026#39;cyan:\u0026#39;#95E6CB\u0026#39;white:\u0026#39;#FFFFFF\u0026#39;     ZSH and Prezto   Install ZSH.  1  sudo pacman -S zsh   Setup user to use ZSH as default shell.\n1  sudo chsh -s /usr/bin/zsh username   Install Prezto - it\u0026rsquo;s zsh framework just like oh-my-zsh but more simple and fast. Also support all of oh-my-zsh plugins.  Clone repository.\n1  git clone --recursive https://github.com/sorin-ionescu/prezto.git \u0026#34;${ZDOTDIR:-$HOME}/.zprezto\u0026#34;   Create new zsh configuration needed using the following command.\n1 2 3 4  setopt EXTENDED_GLOB for rcfile in \u0026#34;${ZDOTDIR:-$HOME}\u0026#34;/.zprezto/runcoms/^README.md(.N); do ln -s \u0026#34;$rcfile\u0026#34; \u0026#34;${ZDOTDIR:-$HOME}/.${rcfile:t}\u0026#34; done   Now restart your terminal and you will get zsh shell with prezto.\nPrezto comes with additional command prompt for choosing theme.\n1 2  prompt -l prompt -p themen-ame   More info about prezto.\n   Tmux Configuration   Install tmux via pacman.  1  sudo pacman -S tmux   Tmux configuration ~/.tmux.conf.  # Use C-s (control and s key at the same time) as the prefix key unbind C-b set -g prefix C-s bind-key -r C-s send-prefix bind-key r source-file ~/.tmux.conf \\; display-message \u0026quot;~/.tmux.conf reloaded\u0026quot; bind-key -n C-h select-pane -L bind-key -n C-j select-pane -D bind-key -n C-k select-pane -U bind-key -n C-l select-pane -R set-option -g default-terminal \u0026quot;screen-256color\u0026quot; set-option -g status-keys \u0026quot;emacs\u0026quot; bind-key - split-window -v -c '#{pane_current_path}' bind-key '\u0026quot;' split-window -h -c '#{pane_current_path}' # Fine adjustment (1 or 2 cursor cells per bump) bind -n S-Left resize-pane -L 2 bind -n S-Right resize-pane -R 2 bind -n S-Down resize-pane -D 1 bind -n S-Up resize-pane -U 1 # Coarse adjustment (5 or 10 cursor cells per bump) bind -n C-Left resize-pane -L 10 bind -n C-Right resize-pane -R 10 bind -n C-Down resize-pane -D 5 bind -n C-Up resize-pane -U 5 bind c new-window -c \u0026quot;#{pane_current_path}\u0026quot; set -g base-index 1 set -g renumber-windows on set -g mouse on setw -g mode-keys vi bind-key b break-pane -d bind-key C-j choose-tree set-option -g status-left-length 100 # setup 'v' to begin selection as in Vim bind-key -T copy-mode-vi 'v' send -X begin-selection bind-key -T copy-mode-vi 'y' send -X copy-pipe \u0026quot;xclip -i -sel p -f | xclip -i -sel c\u0026quot; \\; display-message \u0026quot;copied to system clipboard\u0026quot; # Update default binding of `Enter` to also use copy-selection unbind -T copy-mode-vi Enter bind-key -T copy-mode-vi Enter send -X copy-pipe \u0026quot;xclip -i -sel p -f | xclip -i -sel c\u0026quot; \\; display-message \u0026quot;copied to system clipboard\u0026quot; # copy from tmux to clipboard #bind-key -T copy-mode-vi y send-keys -X copy-pipe \u0026quot;xclip -r\u0026quot; \\; display-message \u0026quot;Copied to selection\u0026quot; #bind-key -T copy-mode-vi Y send-keys -X copy-pipe \u0026quot;xclip -r -selection clipboard\u0026quot; \\; display-message \u0026quot;Copied to clipboard\u0026quot; #bind-key C-p run-shell \u0026quot;xclip -o | tmux load-buffer - \u0026amp;\u0026amp; tmux paste-buffer\u0026quot; set -g @yank_selection 'primary' #set -g @themepack 'powerline/block/green' # List of plugins set -g @plugin 'tmux-plugins/tpm' set -g @plugin 'tmux-plugins/tmux-sensible' set -g @plugin 'tmux-plugins/tmux-yank' set -g @plugin 'tmux-plugins/tmux-prefix-highlight' #set -g @plugin 'jimeh/tmux-themepack' set -g @plugin \u0026quot;arcticicestudio/nord-tmux\u0026quot; # Other examples: # set -g @plugin 'github_username/plugin_name' # set -g @plugin 'git@github.com/user/plugin' # set -g @plugin 'git@bitbucket.com/user/plugin' # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf) run -b '~/.tmux/plugins/tpm/tpm' For this configuration I use tmux theme nord-tmux - I dont need any additional status-bar on tmux.\nLearn more on this tmux course - free and thanks.\n   Setup zsh and tmux as default shell  Using prezto is simple.\n1  vim ~/.zprezto/runcoms/zpreztorc   Add the tmux plugin - below is my tmux plugin I use.\n# Set the Prezto modules to load (browse modules). # The order matters. zstyle ':prezto:load' pmodule \\ 'environment' \\ 'terminal' \\ 'editor' \\ 'history' \\ 'directory' \\ 'spectrum' \\ 'utility' \\ 'completion' \\ 'colorize' \\ 'tmux' \\ 'history-substring-search' \\ 'prompt' \\ 'git' \\ 'pacman' \\ 'ssh' \\ 'vagrant' \\ 'autojump' Now go to the bottom of the line and uncomment the tmux options.\n# # Tmux # # Auto start a session when Zsh is launched in a local terminal. zstyle ':prezto:module:tmux:auto-start' local 'yes' # Auto start a session when Zsh is launched in a SSH connection. # zstyle ':prezto:module:tmux:auto-start' remote 'yes' # Integrate with iTerm2. # zstyle ':prezto:module:tmux:iterm' integrate 'yes' # Set the default session name: zstyle ':prezto:module:tmux:session' name 'NAME-YOUR-SESSION' and viola is done.\n","date":"Oct 03","permalink":"https://arvdl.github.io/posts/zsh-tmux-alacrity/","tags":null,"title":"How to Setup Zsh Tmux and Alacritty"},{"categories":null,"contents":"   Intro  So i got laptop with dual vga card Nvidia and Intel, the I install Manjaro with Gnome desktop on top of it.\nNow, how I can set up Nvidia as default graphic driver instead of Intel on my manjaro system.\n   Install nvidia graphic driver on manjaro  To install nvidia graphic driver on manjaro, run the following command.\n1  sudo mhwd -a pci nonfree 0300   Now reboot the system and check again the installed nvidia driver.\n1  sudo mhwd -li   Make sure you got the video-hybrid-intel-nvidia-prime driver.\n   Check BusID of nvidia graphic card  Before going any further, check BusID of your nvidia graphic.\n1  sudo lspci | grep -E \u0026#34;VGA|3D\u0026#34;   Below is the an example result.\n00:02.0 VGA compatible controller: Intel Corporation XXLake-H GT2 [UHD Graphics XXX] 01:00.0 3D controller: NVIDIA Corporation GPXXM [GeForce GTX 10XX Ti Mobile] (rev a1) The BusID for nvidia graphic card is PCI:1:0:0, and for intel is PCI:2:0:0.\n   Setup Xorg configuration for nvidia  By default the mhwd tool created the nvidia graphic driver configuration /etc/X11/xorg.conf.d/90-mhwd.conf.\nDelete the default mhwd configuration and create another one.\n1 2  sudo rm -f /etc/X11/xorg.conf.d/90-mhwd.conf sudo vim /etc/X11/xorg.conf.d/optimus.conf   Change the BusID options as your own and paste the configuration.\nSection \u0026quot;Module\u0026quot; Load \u0026quot;modesetting\u0026quot; EndSection Section \u0026quot;Device\u0026quot; Identifier \u0026quot;nvidia\u0026quot; Driver \u0026quot;nvidia\u0026quot; BusID \u0026quot;PCI:1:0:0\u0026quot; Option \u0026quot;AllowEmptyInitialConfiguration\u0026quot; EndSection Save.\n   Block nouveau and Enable nvidia-drm.modeset  Backup all default configuration at the /etc/modprobe.d/ directory.\n1 2  sudo mkdir -p ~/backup-conf/ sudo mv /etc/modprobe.d/*.conf ~/backup-conf/   Create new blacklist configuration.\n1  sudo vim /etc/modprobe.d/nvidia.conf   Paste the following configuration to block the nouveau kernel driver.\nblacklist nouveau blacklist nvidiafb blacklist riafb Save.\nNext, enable the nvidia-drm.modeset by creating new configuration.\n1  sudo vim /etc/modprobe.d/nvidia-drm.conf   Paste the following configuration.\noptions nvidia_drm modeset=1 Save.\n   Setup ourput source for GDM (Gnome Display Manager)  Create new configuration file.\n1  sudo vim /usr/local/share/optimus.desktop   Paste the following configuration.\n[Desktop Entry] Type=Application Name=Optimus Exec=sh -c \u0026quot;xrandr --setprovideroutputsource modesetting NVIDIA-0; xrandr --auto\u0026quot; NoDisplay=true X-GNOME-Autostart-Phase=DisplayServer Save.\nNow make it auto-start on the login.\n1 2  sudo ln -s /usr/local/share/optimus.desktop /usr/share/gdm/greeter/autostart/optimus.desktop sudo ln -s /usr/local/share/optimus.desktop /etc/xdg/autostart/optimus.desktop   After that reboot the system.\n   Verify the nvidia driver  To verify our setup, run the following command.\n1  glxinfo | grep -i vendor   Optionall, you can use the tool nvtop.\n1 2 3  sudo pamac install nvtop nvtop   Enjoy your system is fully using nvidia graphic card.\n","date":"Aug 02","permalink":"https://arvdl.github.io/posts/nvidia-instead-intel-manjaro-gnome/","tags":null,"title":"Setup Nvidia as Default Graphic Instead of Intel on Manjaro Gnome"},{"categories":null,"contents":"   Intro  MAC address (Media Access Control) is an identifier for our network devices that we use. It\u0026rsquo;s unique identifier, every network devices has different identities.\nMostly, MAC address are available at IEEE 802 networking technology such as Ethernet, Wi-Fi, and Bluetooth. And every devies that we uses such as Laptop, Computer, or even Smartphone has MAC address on top of it.\nFor this guide, i will show you how to automatically change MAC address of your Linux system using systemd-networkd service and using the NetworkManager application.\n   Check MAC address  Before going any further, check the MAC address on the system using the ip command as below.\n1  ip a   And you will be shown the MAC address of your machine as link/ether 12:9a:5b:0d:xx:xx ....\nIf you want to know what a vender of your MAC address you used, visit the site https://macvendors.com/, copy and paste your MAC address on the page, and you will get details vender of your MAC address you\u0026rsquo;re using.\n   Spoof MAC address with systemd-networkd service  The systemd-networkd is a services that manages networking configuration. As networking devices appears, the service will automatically detects and configure your networking devies. Also, it can create virtual network devices.\nThe systemd-networkd is part of systemd, so ensure you\u0026rsquo;re using an operating system with systemd running on top of your OS.\nRun the systemd-networkd services and add it to start automaticall on the system boot using following commands.\n1 2  sudo systemctl start systemd-networkd sudo systemctl enable systemd-networkd   Next, create a new configuration for your devices on the /etc/systemd/network directory. For example below I create the configuration wlan0.link to change my wlan0 interface MAC address.\n1  sudo nano /etc/systemd/network/wlan0.link   Change MACAddress=xx:xx:xx:xx:xx:xx with your real MAC address, copy and paste to your configuration.\n[Match] MACAddress=xx:xx:xx:xx:xx:xx [Link] MACAddressPolicy=random NamePolicy=kernel database onboard slot path Save.\nNOTE:\nInstead of random MAC address on every boot, you can use pre-defined static MAC address by changing the MACAddressPolicy=random to static configuration MACAddress=Static Spoofed MAC.\nNow restart the systemd-networkd services to apply.\n1  sudo systemctl restart systemd-networkd   Check again your MAC address usin gthe ip a command and it has been changed. Otherwise, you can reboot your system.\n   Spoof MAC Address with NetworkManager  The second way to change MAC address is by using the NetworkManager application, mostly available on every Linux Desktop.\nEdit the /etc/NetworkManager/NetworkManager.conf configuration file.\n1  sudo vim /etc/NetworkManager/NetworkManager.conf   Now paste the following configuration to the end of the line.\n[device-mac-randomization] # \u0026quot;yes\u0026quot; is already the default for scanning wifi.scan-rand-mac-address=yes [connection-mac-randomization] # Randomize MAC for every ethernet connection ethernet.cloned-mac-address=random # Generate a random MAC for each WiFi and associate the two permanently. wifi.cloned-mac-address=random Save and close.\nNext, restart the NetworkManager services to apply.\n1  sudo systemctl restart NetworkManager   As a result, you will get random MAC address everytime you make connection to the network, on Wi-Fi and Ethernet.\n   Reference  Archwiki\nGnome NetworkManager\n","date":"Jul 12","permalink":"https://arvdl.github.io/posts/mac-address-linux/","tags":["privacy","tips"],"title":"MAC Address Spoofing on Linux"}]